# 股票爬蟲工具

- AI作品
- 主執行檔:index.py
- GUI介面主執行檔:stock_gui.py

這是一個基於 Python 的股票爬蟲工具，可以爬取台灣股票市場的即時資料。提供了命令列介面和圖形用戶介面兩種使用方式。

## 功能特色

- 🔍 爬取台灣股票即時資料（價格、漲跌、成交量等）
- 🖥️ 友善的圖形用戶介面
- 📊 支援批量股票資料爬取
- 🔎 股票搜尋和篩選功能
- ⚡ 非同步爬取，效率更高
- 📱 即時進度顯示

## 安裝需求

### Python 版本
- Python 3.8 或更高版本

### 依賴套件
```bash
pip install crawl4ai twstock
```

## 檔案結構

```
lesson6/                      # 專案根目錄
├── index.py                  # 主程式入口
├── wantgoo.py               # 爬蟲核心模組
├── stock_gui.py             # GUI 介面模組
├── run.py                   # 啟動腳本
├── setup_copilot.py         # Copilot 配置腳本
├── test_copilot_config.py   # Copilot 配置驗證
├── prd.md                   # 產品需求文件
├── README.md                # 說明文件
├── lesson6.code-workspace   # VS Code 工作區配置
├── .copilot/                # GitHub Copilot 官方配置目錄
│   ├── README.md            # Copilot 配置說明
│   ├── project.yml          # 專案定義
│   ├── instructions.md      # AI 指令和行為準則
│   ├── knowledge.md         # 專案知識庫
│   ├── config.yml           # 工作區配置
│   └── context.json         # 動態專案上下文
└── .gitignore               # Git 忽略檔案設定
```

## GitHub Copilot 支援

本專案完全支援 **GitHub Copilot**，採用官方標準配置格式：

### 🤖 配置特色
- 📁 `.copilot/` - GitHub Copilot 官方格式配置
- 🎯 專案感知和智能上下文理解
- 🔧 專業級程式碼補全和建議
- 💬 專案特定的 AI 聊天助手

### 🚀 快速開始
```bash
# 設定/更新 Copilot 配置
python3 setup_copilot.py

# 使用 VS Code 開啟工作區
code lesson6.code-workspace
```

### ✨ AI 助手能力
- 🎯 正確識別 lesson6 為股票爬蟲專案
- 📁 理解完整的專案架構和模組關係
- 🔧 提供符合專案風格的程式碼建議
- 📋 基於現有功能進行智能擴展
- 🐛 協助除錯和問題解決

詳細配置說明請參閱 [.copilot/README.md](.copilot/README.md)

## 使用方式

### 1. 啟動程式
```bash
cd lesson6
python index.py
```

### 2. 選擇執行模式
程式啟動後會顯示選項：
```
股票爬蟲工具
1. 命令列模式 - 爬取預設股票
2. GUI 模式 - 圖形介面  
3. 顯示股票清單
```

### 3. GUI 模式使用說明

#### 主要功能區域
- **左側面板**: 股票選擇區
  - 顯示所有可用股票清單
  - 支援搜尋功能
  - 可多選股票
  - 提供全選/取消全選功能

- **右側面板**: 控制和結果區
  - 開始爬取按鈕
  - 進度顯示
  - 爬取結果展示

#### 操作步驟
1. 在左側股票清單中選擇要爬取的股票
2. 可使用搜尋框快速找到特定股票
3. 點擊「開始爬取股票資料」按鈕
4. 等待爬取完成，結果會顯示在右側

## 爬取的資料欄位

每支股票會爬取以下資訊：
- 日期時間
- 股票號碼
- 股票名稱
- 即時價格
- 漲跌金額
- 漲跌百分比
- 開盤價
- 最高價
- 最低價
- 成交量(張)
- 前一日收盤價

## 技術架構

### 核心技術
- **crawl4ai**: 現代化的網頁爬蟲框架
- **twstock**: 台灣股票資料庫
- **tkinter**: Python 內建的 GUI 框架
- **asyncio**: 非同步程式設計

### 爬取策略
- 使用 CSS 選擇器精確提取資料
- 支援併發爬取（最多5個同時進行）
- 速率限制避免對目標網站造成負擔
- 錯誤處理和自動重試機制

## 注意事項

### 使用限制
- 請合理使用，避免頻繁爬取
- 遵守目標網站的服務條款
- 建議爬取間隔至少 0.5 秒

### 錯誤處理
- 網路連線問題會自動重試
- 爬取失敗會顯示詳細錯誤訊息
- 程式具備良好的異常處理機制

## 開發相關

### 程式碼結構
- `index.py`: 程式主入口，提供選單介面
- `wantgoo.py`: 核心爬蟲邏輯
- `stock_gui.py`: GUI 介面實作

### 擴展功能
未來可能的擴展方向：
- 資料匯出功能（CSV、Excel）
- 歷史資料追蹤
- 股票分析工具
- 排程自動爬取

## 故障排除

### 常見問題

**Q: 爬取失敗或無法取得資料**
- 檢查網路連線
- 確認目標網站是否正常
- 重新啟動程式嘗試

**Q: GUI 介面無法顯示**
- 確認 tkinter 套件正常安裝
- 檢查 Python 版本是否支援

**Q: 股票清單載入失敗**
- 確認 twstock 套件正常安裝
- 檢查網路連線狀態

